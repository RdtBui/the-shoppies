{"ast":null,"code":"import _regeneratorRuntime from\"/home/richard/Development/reactjs/beta-shoppies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/richard/Development/reactjs/beta-shoppies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/richard/Development/reactjs/beta-shoppies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Typography from'@material-ui/core/Typography';import omdb from'../api/omdb';import youtube from'../api/youtube';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import Button from'@material-ui/core/Button';import ButtonGroup from'@material-ui/core/ButtonGroup';import Paper from'@material-ui/core/Paper';import{Chip}from'@material-ui/core';import{makeStyles}from'@material-ui/core/styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles({bold:{fontWeight:600}});var MovieDetails=function MovieDetails(_ref){var movieId=_ref.movieId;var classes=useStyles();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),actors=_useState2[0],setActors=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),boxOffice=_useState4[0],setBoxOffice=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),director=_useState6[0],setDirector=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),genres=_useState8[0],setGenres=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),writer=_useState10[0],setWriter=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),ratings=_useState12[0],setRatings=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),plot=_useState14[0],setPlot=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),title=_useState16[0],setTitle=_useState16[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,results,genreArray;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return omdb.get('',{params:{i:movieId}});case 2:response=_context.sent;results=response.data;genreArray=[];if(results.Genre){genreArray=results.Genre.split(',');}setActors(results.Actors);setBoxOffice(results.BoxOffice);setDirector(results.Director);setGenres(genreArray);setWriter(results.Writer);setRatings(results.Ratings);setPlot(results.Plot);setTitle(results.Title);console.log(\"Detail response:\");console.log(results);case 16:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[movieId]);var displayRatings=ratings?ratings.map(function(rating){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{className:classes.bold,children:rating.Source}),/*#__PURE__*/_jsx(Typography,{children:rating.Value})]});}):null;var onClick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var searchTerm,response,results;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:searchTerm=title+\" trailer\";console.log(searchTerm);_context2.next=4;return youtube.get('',{params:{i:searchTerm}});case 4:response=_context2.sent;results=response.data;console.log(\"Youtube\");console.log(results);// setActors(results.Actors);\ncase 8:case\"end\":return _context2.stop();}}},_callee2);}));return function onClick(){return _ref3.apply(this,arguments);};}();var displayGenres=genres?genres.map(function(genre){return/*#__PURE__*/_jsx(Chip,{label:genre});}):null;return/*#__PURE__*/_jsxs(Grid,{display:\"flex\",children:[/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsxs(Paper,{elevation:1,style:{padding:\"15px\"},children:[/*#__PURE__*/_jsx(Typography,{className:classes.bold,children:\"Box Office\"}),/*#__PURE__*/_jsx(Typography,{children:boxOffice})]}),displayGenres]}),/*#__PURE__*/_jsx(Grid,{container:true,children:/*#__PURE__*/_jsx(Paper,{elevation:1,style:{padding:\"15px\"},children:displayRatings})}),/*#__PURE__*/_jsx(Button,{onClick:onClick,children:\"Trailer\"}),/*#__PURE__*/_jsxs(Paper,{elevation:1,square:true,style:{padding:\"15px\"},children:[/*#__PURE__*/_jsx(Typography,{className:classes.bold,children:\"Director\"}),/*#__PURE__*/_jsx(Typography,{children:director})]}),/*#__PURE__*/_jsxs(Paper,{elevation:1,square:true,style:{padding:\"15px\"},children:[/*#__PURE__*/_jsx(Typography,{className:classes.bold,children:\"Writer\"}),/*#__PURE__*/_jsx(Typography,{children:writer})]}),/*#__PURE__*/_jsxs(Paper,{elevation:1,square:true,style:{padding:\"15px\"},children:[/*#__PURE__*/_jsx(Typography,{className:classes.bold,children:\"Actors\"}),/*#__PURE__*/_jsx(Typography,{children:actors})]}),/*#__PURE__*/_jsxs(Paper,{elevation:1,style:{padding:\"15px\"},children:[/*#__PURE__*/_jsx(Typography,{className:classes.bold,children:\"Plot\"}),/*#__PURE__*/_jsx(Typography,{children:plot})]})]});};export default MovieDetails;","map":{"version":3,"sources":["/home/richard/Development/reactjs/beta-shoppies/src/components/MovieDetails.js"],"names":["React","useState","useEffect","Typography","omdb","youtube","Grid","Box","Button","ButtonGroup","Paper","Chip","makeStyles","useStyles","bold","fontWeight","MovieDetails","movieId","classes","actors","setActors","boxOffice","setBoxOffice","director","setDirector","genres","setGenres","writer","setWriter","ratings","setRatings","plot","setPlot","title","setTitle","fetchData","get","params","i","response","results","data","genreArray","Genre","split","Actors","BoxOffice","Director","Writer","Ratings","Plot","Title","console","log","displayRatings","map","rating","Source","Value","onClick","searchTerm","displayGenres","genre","padding"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport omdb from '../api/omdb';\nimport youtube from '../api/youtube';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Paper from '@material-ui/core/Paper';\nimport { Chip } from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\nconst useStyles = makeStyles({\n    bold: {\n        fontWeight: 600\n    }\n});\nconst MovieDetails = ({ movieId }) => {\n    const classes = useStyles();\n\n    const [actors, setActors] = useState('');\n    const [boxOffice, setBoxOffice] = useState('');\n    const [director, setDirector] = useState('');\n    const [genres, setGenres] = useState([]);\n    const [writer, setWriter] = useState('');\n    const [ratings, setRatings] = useState([]);\n    const [plot, setPlot] = useState('');\n    const [title, setTitle] = useState('');\n\n\n    useEffect(() => {\n        const fetchData = async () => {\n            const response = await omdb.get(\n                '',\n                {\n                    params: {\n                        i: movieId\n                    }\n                }\n            );\n\n            const results = response.data;\n            let genreArray = [];\n            if (results.Genre) {\n                genreArray = results.Genre.split(',');\n            }\n\n\n            setActors(results.Actors);\n            setBoxOffice(results.BoxOffice);\n            setDirector(results.Director);\n            setGenres(genreArray);\n            setWriter(results.Writer);\n            setRatings(results.Ratings);\n            setPlot(results.Plot);\n            setTitle(results.Title);\n\n\n            console.log(\"Detail response:\");\n            console.log(results);\n        }\n        fetchData();\n    }, [movieId]);\n\n    const displayRatings = (ratings ? ratings.map((rating) => {\n        return (\n            <div>\n                <Typography className={classes.bold}>\n                    {rating.Source}\n                </Typography>\n                <Typography>\n                    {rating.Value}\n                </Typography>\n            </div>\n        );\n    }) : null);\n\n    const onClick = async () => {\n        const searchTerm = title + \" trailer\";\n        console.log(searchTerm);\n        const response = await youtube.get(\n            '',\n            {\n                params: {\n                    i: searchTerm\n                }\n            }\n        );\n\n        const results = response.data;\n        console.log(\"Youtube\");\n        console.log(results);\n\n\n\n        // setActors(results.Actors);\n\n    }\n\n    const displayGenres = (genres ? genres.map((genre) => {\n        return (\n            <Chip label={genre} />\n        );\n    }) : null)\n\n    return (\n        <Grid display=\"flex\">\n            <Grid container>\n\n                <Paper elevation={1} style={{ padding: \"15px\" }}>\n                    <Typography className={classes.bold}>Box Office</Typography>\n                    <Typography>{boxOffice}</Typography>\n                </Paper>\n                {displayGenres}\n\n            </Grid>\n            <Grid container>\n                <Paper elevation={1} style={{ padding: \"15px\" }}>\n                    {displayRatings}\n                </Paper>\n            </Grid>\n            <Button onClick={onClick}>Trailer</Button>\n\n\n            <Paper elevation={1} square style={{ padding: \"15px\" }}>\n                <Typography className={classes.bold}>Director</Typography>\n                <Typography>{director}</Typography>\n            </Paper>\n\n            <Paper elevation={1} square style={{ padding: \"15px\" }}>\n                <Typography className={classes.bold}>Writer</Typography>\n                <Typography>{writer}</Typography>\n            </Paper>\n\n            <Paper elevation={1} square style={{ padding: \"15px\" }}>\n                <Typography className={classes.bold}>Actors</Typography>\n                <Typography>{actors}</Typography>\n\n            </Paper>\n\n            <Paper elevation={1} style={{ padding: \"15px\" }}>\n                <Typography className={classes.bold}>Plot</Typography>\n                <Typography>{plot}</Typography>\n            </Paper>\n\n\n\n        </Grid>\n    );\n};\n\nexport default MovieDetails;"]},"metadata":{},"sourceType":"module"}