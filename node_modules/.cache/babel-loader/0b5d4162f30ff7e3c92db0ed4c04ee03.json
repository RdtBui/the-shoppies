{"ast":null,"code":"import _regeneratorRuntime from\"/home/richard/Development/reactjs/beta-shoppies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/richard/Development/reactjs/beta-shoppies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/richard/Development/reactjs/beta-shoppies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Typography from'@material-ui/core/Typography';import omdb from'../api/omdb';import youtube from'../api/youtube';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import Button from'@material-ui/core/Button';import ButtonGroup from'@material-ui/core/ButtonGroup';import Paper from'@material-ui/core/Paper';import{Chip}from'@material-ui/core';import{makeStyles}from'@material-ui/core/styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles({bold:{fontWeight:600}});var MovieDetails=function MovieDetails(_ref){var movieId=_ref.movieId,expanded=_ref.expanded;var classes=useStyles();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),actors=_useState2[0],setActors=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),boxOffice=_useState4[0],setBoxOffice=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),director=_useState6[0],setDirector=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),genres=_useState8[0],setGenres=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),writer=_useState10[0],setWriter=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),ratings=_useState12[0],setRatings=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),plot=_useState14[0],setPlot=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),title=_useState16[0],setTitle=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),trailerUrl=_useState18[0],setTrailerUrl=_useState18[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,results,genreArray;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return omdb.get('',{params:{i:movieId}});case 2:response=_context.sent;results=response.data;genreArray=[];if(results.Genre){genreArray=results.Genre.split(',');}setActors(results.Actors);setBoxOffice(results.BoxOffice);setDirector(results.Director);setGenres(genreArray);setWriter(results.Writer);setRatings(results.Ratings);setPlot(results.Plot);setTitle(results.Title);console.log(\"Detail response:\");console.log(results);case 16:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[movieId]);// // YouTube API request for trailers, consumes quota\n// useEffect(async () => {\n//     const searchTerm = title + \" trailer\";\n//     console.log(searchTerm);\n//     const response = await youtube.get(\n//         '/search',\n//         {\n//             params: {\n//                 q: searchTerm\n//             }\n//         }\n//     );\n//     const results = response.data;\n//     setTrailerUrl(`https://youtube.com/embed/${results.items[0].id.videoId}`);\n// }, [title]);\nvar displayRatings=ratings?ratings.map(function(rating){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{className:classes.bold,children:rating.Source}),/*#__PURE__*/_jsx(Typography,{children:rating.Value})]});}):null;var displayGenres=genres?genres.map(function(genre){return/*#__PURE__*/_jsx(Chip,{label:genre});}):null;var displayTrailer=trailerUrl?/*#__PURE__*/_jsx(\"iframe\",{src:trailerUrl}):null;return/*#__PURE__*/_jsxs(Grid,{display:\"flex\",children:[/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsxs(Paper,{elevation:1,style:{padding:\"15px\"},children:[/*#__PURE__*/_jsx(Typography,{className:classes.bold,children:\"Box Office\"}),/*#__PURE__*/_jsx(Typography,{children:boxOffice})]}),displayGenres]}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Paper,{elevation:1,style:{padding:\"15px\"},children:displayRatings}),displayTrailer]}),/*#__PURE__*/_jsxs(Paper,{elevation:1,square:true,style:{padding:\"15px\"},children:[/*#__PURE__*/_jsx(Typography,{className:classes.bold,children:\"Director\"}),/*#__PURE__*/_jsx(Typography,{children:director})]}),/*#__PURE__*/_jsxs(Paper,{elevation:1,square:true,style:{padding:\"15px\"},children:[/*#__PURE__*/_jsx(Typography,{className:classes.bold,children:\"Writer\"}),/*#__PURE__*/_jsx(Typography,{children:writer})]}),/*#__PURE__*/_jsxs(Paper,{elevation:1,square:true,style:{padding:\"15px\"},children:[/*#__PURE__*/_jsx(Typography,{className:classes.bold,children:\"Actors\"}),/*#__PURE__*/_jsx(Typography,{children:actors})]}),/*#__PURE__*/_jsxs(Paper,{elevation:1,style:{padding:\"15px\"},children:[/*#__PURE__*/_jsx(Typography,{className:classes.bold,children:\"Plot\"}),/*#__PURE__*/_jsx(Typography,{children:plot})]})]});};export default MovieDetails;","map":{"version":3,"sources":["/home/richard/Development/reactjs/beta-shoppies/src/components/MovieDetails.js"],"names":["React","useState","useEffect","Typography","omdb","youtube","Grid","Box","Button","ButtonGroup","Paper","Chip","makeStyles","useStyles","bold","fontWeight","MovieDetails","movieId","expanded","classes","actors","setActors","boxOffice","setBoxOffice","director","setDirector","genres","setGenres","writer","setWriter","ratings","setRatings","plot","setPlot","title","setTitle","trailerUrl","setTrailerUrl","fetchData","get","params","i","response","results","data","genreArray","Genre","split","Actors","BoxOffice","Director","Writer","Ratings","Plot","Title","console","log","displayRatings","map","rating","Source","Value","displayGenres","genre","displayTrailer","padding"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport omdb from '../api/omdb';\nimport youtube from '../api/youtube';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Paper from '@material-ui/core/Paper';\nimport { Chip } from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\nconst useStyles = makeStyles({\n    bold: {\n        fontWeight: 600\n    }\n});\nconst MovieDetails = ({ movieId, expanded }) => {\n    const classes = useStyles();\n\n    const [actors, setActors] = useState('');\n    const [boxOffice, setBoxOffice] = useState('');\n    const [director, setDirector] = useState('');\n    const [genres, setGenres] = useState([]);\n    const [writer, setWriter] = useState('');\n    const [ratings, setRatings] = useState([]);\n    const [plot, setPlot] = useState('');\n    const [title, setTitle] = useState('');\n    const [trailerUrl, setTrailerUrl] = useState('');\n\n\n    useEffect(() => {\n        const fetchData = async () => {\n            const response = await omdb.get(\n                '',\n                {\n                    params: {\n                        i: movieId\n                    }\n                }\n            );\n\n            const results = response.data;\n            let genreArray = [];\n            if (results.Genre) {\n                genreArray = results.Genre.split(',');\n            }\n\n            setActors(results.Actors);\n            setBoxOffice(results.BoxOffice);\n            setDirector(results.Director);\n            setGenres(genreArray);\n            setWriter(results.Writer);\n            setRatings(results.Ratings);\n            setPlot(results.Plot);\n            setTitle(results.Title);\n\n            console.log(\"Detail response:\");\n            console.log(results);\n        }\n        fetchData();\n    }, [movieId]);\n\n    // // YouTube API request for trailers, consumes quota\n    // useEffect(async () => {\n    //     const searchTerm = title + \" trailer\";\n    //     console.log(searchTerm);\n    //     const response = await youtube.get(\n    //         '/search',\n    //         {\n    //             params: {\n    //                 q: searchTerm\n    //             }\n    //         }\n    //     );\n    //     const results = response.data;\n    //     setTrailerUrl(`https://youtube.com/embed/${results.items[0].id.videoId}`);\n    // }, [title]);\n\n    const displayRatings = (ratings ? ratings.map((rating) => {\n        return (\n            <div>\n                <Typography className={classes.bold}>\n                    {rating.Source}\n                </Typography>\n                <Typography>\n                    {rating.Value}\n                </Typography>\n            </div>\n        );\n    }) : null);\n\n    const displayGenres = (genres ? genres.map((genre) => {\n        return (\n            <Chip label={genre} />\n        );\n    }) : null);\n\n    const displayTrailer = (trailerUrl ?\n        <iframe src={trailerUrl} />\n        : null);\n\n    return (\n        <Grid display=\"flex\">\n            <Grid container>\n                <Paper elevation={1} style={{ padding: \"15px\" }}>\n                    <Typography className={classes.bold}>Box Office</Typography>\n                    <Typography>{boxOffice}</Typography>\n                </Paper>\n                {displayGenres}\n\n            </Grid>\n            <Grid container>\n                <Paper elevation={1} style={{ padding: \"15px\" }}>\n                    {displayRatings}\n                </Paper>\n                {displayTrailer}\n            </Grid>\n\n            <Paper elevation={1} square style={{ padding: \"15px\" }}>\n                <Typography className={classes.bold}>Director</Typography>\n                <Typography>{director}</Typography>\n            </Paper>\n\n            <Paper elevation={1} square style={{ padding: \"15px\" }}>\n                <Typography className={classes.bold}>Writer</Typography>\n                <Typography>{writer}</Typography>\n            </Paper>\n\n            <Paper elevation={1} square style={{ padding: \"15px\" }}>\n                <Typography className={classes.bold}>Actors</Typography>\n                <Typography>{actors}</Typography>\n\n            </Paper>\n\n            <Paper elevation={1} style={{ padding: \"15px\" }}>\n                <Typography className={classes.bold}>Plot</Typography>\n                <Typography>{plot}</Typography>\n            </Paper>\n        </Grid>\n    );\n};\n\nexport default MovieDetails;"]},"metadata":{},"sourceType":"module"}